<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Mutex - Mutex</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.4.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.4.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><img src="..&#x2F;assets/css/logo.png"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: undefined</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Mutex.html">Mutex</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/gallery-mutex.html">gallery-mutex</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
    </div>


            <div class="apidocs">
                <div id="docs-main" class="content">
                    <h1>Mutex Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files&#x2F;js_mutex.js.html#l10"><code>js&#x2F;mutex.js:10</code></a>
        </div>
    

    
</div>



<div class="box intro">
    <p>Most people believe that Since JavaScript does not provide a
multi-threaded shared memory environment, JavaScript is completely
free from concurrency issues.  This is true at a low level;
JavaScript developers don't need to worry about race conditions
between multiple processes or threads writing to the same memory
location.  At a higher level, asynchronous operations still allow for
similar problems to occur.</p>

<p>Imagine a function that does the following:</p>

<ol>
    <li>
        Check the value of a variable.
    </li>
    <li>
        If the value is undefined, make a request to a server, receive
        data, set  the value of the variable.
    </li>
    <li>
        Pass the variable to a callback function.
    </li>
</ol>

<p>It seems common for web applications to lazy load data like this as
needed.  Now imagine that there are several separate modules within a
web application which all require this data.  It's possible for the
first module to call this function, the function sees that the value
is undefined, and sends a request to a server.  Then before the
request returns, the second module calls this function, the function
sees that the value is undefined and sends a request to a server.
Then before both of those requests return, the third module calls
this function, the function sees that the values is undefined and
sends a request to a server.  In this case, three requests are made
to a server for the same data.</p>

<p>It would be far better if the second and third calls to the function
just waited for the first request to complete.  Y.Mutex makes it
easier to accomplish this functionality.</p>

<p>Y.Mutex provides a concept of locking a resource.  Once an exclusive
resource lock is obtained, other parts of an application which
attempt to access the same resource, will have to wait until that
resource is unlocked.</p>

<p>The function above could be rewritten as follows:</p>

<ol>
    <li>
        Obtain an exclusive lock for a variable.
    </li>
    <li>
        Check the value of a variable.
    </li>
    <li>
        If the value is undefined, make a request to a server,
        receive data, set the value of the variable.
    </li>
    <li>
        Unlock the variable.
    </li>
    <li>
        Pass the variable to a callback function.
    </li>
</ol>

<p>This way, second or third or more calls to the function, before the
first request is complete, will always wait for the request to
complete instead of sending multiple unnecessary requests.</p>

<p>Just like locking in multi threaded applications, there are
disadvantages and dangers to locking.  There is a small amount of
overhead added to every resource access, even when the chances for
concurrency issues are very small.  Once a lock is obtained, it must
be unlocked; so error handling and time outs are important to ensure
that the entire application doesn't break when something goes wrong.
It is possible to cause a deadlock when locking multiple resources at
once.</p>

<p>One advantage Y.Mutex has in JavaScript over other multi threaded
applications, the locks are asynchronous.  The application is not
blocked while waiting to acquire a lock.  Even if a deadlock occurs,
other parts of the application are not affected.  Y.Mutex also
provides multiple ways to cancel a particular lock, so there are
extra possibilities to recover from locking errors.</p>

<p>Y.Mutex offers exclusive locks and shared locks.  When a resource is
locked by an exclusive lock, Y.Mutex guarantees that no other locks
will be granted for the resource until the resource is unlocked.
When a resource is locked by a shared lock, Y.Mutex allows the
resource to be locked by multiple other shared locks at the same
time.  When a resource is locked by multiple shared locks, an
exclusive lock can not be obtained until all of the shared locks have
been unlocked.  Shared locks are generally used when just reading
values.  Exclusive locks are generally used when reading and writing
values.</p>

<p>Y.Mutex provides a way to deal with asynchronous concurrency issues,
but it does not prevent them.  If code from part of an application
uses Y.Mutex to lock a resource, there is nothing stopping code from
another part of the application from ignoring the lock and accessing
the resource directly.</p>
</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method protected">
                                <a href="#method__lock">_lock</a>

                                
                                    <span class="flag static">static</span>
                                
                            </li>
                        
                            <li class="index-item method protected">
                                <a href="#method__queue">_queue</a>

                                
                                    <span class="flag static">static</span>
                                
                            </li>
                        
                            <li class="index-item method protected">
                                <a href="#method__unlock">_unlock</a>

                                
                                    <span class="flag static">static</span>
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_exclusive">exclusive</a>

                                
                                    <span class="flag static">static</span>
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_exclusive">exclusive</a>

                                
                                    <span class="flag static">static</span>
                                
                            </li>
                        
                    </ul>
                </div>
            

            
                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                        
                            <li class="index-item property protected">
                                <a href="#property__locks">_locks</a>

                                
                                    <span class="flag static">static</span>
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method__lock" class="method item protected">
    <h3 class="name"><code>_lock</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>mode</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>guid</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>resourceName</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callbackFunction</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>timeout</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    
        <span class="flag protected">protected</span>
    

    

    
        <span class="flag static">static</span>
    

    

    <div class="meta">
        
            
                
                <p>Defined in
            
        
        <a href="../files&#x2F;js_mutex.js.html#l185"><code>js&#x2F;mutex.js:185</code></a></p>

        

        
    </div>

    <div class="description">
        <p>Immediately grants a lock on a resource.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">mode</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>Either 'exclusive' or 'shared'.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">guid</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>The lock's internal id.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">resourceName</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>The name of the resource to lock.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callbackFunction</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>The function that gets called when
the lock is obtained.  It is guaranteed not to be called
synchronously.  It is guaranteed not to be called more than once.  It
is not guaranteed to ever be called.  The callback function is passed
one argument, the unlock function which must be called to release the
lock.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">timeout</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>Optional.  The Approximate time in
milliseconds to wait after the callback function has been called.
Once the timeout has expired, if the callback function hasn't yet
called the unlock function, the lock will be automatically released.
This does not halt, stop, or prevent anything that the callback
function might still be doing asynchronously; it just releases the
lock.  Using timeout is one way to reduce the possibility of
deadlocks, but it comes with the risk of allowing concurrent access
to the resource.</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    timerObject An object that will asynchronously later
be given a timer property.
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method__queue" class="method item protected">
    <h3 class="name"><code>_queue</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>mode</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>resourceName</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callbackFunction</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>timeout</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    
        <span class="flag protected">protected</span>
    

    

    
        <span class="flag static">static</span>
    

    

    <div class="meta">
        
            
                
                <p>Defined in
            
        
        <a href="../files&#x2F;js_mutex.js.html#l256"><code>js&#x2F;mutex.js:256</code></a></p>

        

        
    </div>

    <div class="description">
        <p>Wait in queue to obtain a lock on a resource.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">mode</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>Either 'exclusive' or 'shared'.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">resourceName</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>The name of the resource to lock.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callbackFunction</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>The function that gets called when
the lock is obtained.  It is guaranteed not to be called
synchronously.  It is guaranteed not to be called more than once.  It
is not guaranteed to ever be called.  The callback function is passed
one argument, the unlock function which must be called to release the
lock.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">timeout</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>Optional.  The Approximate time in
milliseconds to wait after the callback function has been called.
Once the timeout has expired, if the callback function hasn't yet
called the unlock function, the lock will be automatically released.
This does not halt, stop, or prevent anything that the callback
function might still be doing asynchronously; it just releases the
lock.  Using timeout is one way to reduce the possibility of
deadlocks, but it comes with the risk of allowing concurrent access
to the resource.</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    cancelObject An object with a cancel method.  When
the cancel method is called, if the callback function hasn't yet
called the unlock function, the lock will be automatically released.
This does not halt, stop, or prevent anything that the callback
function might still be doing asynchronously; it just releases the
lock.  Using the cancel method is one way to reduce the possibiliy of
deadlocks, but it comes with the risk of allowing concurrent access
to the resource.  The cancelObject also has mode property.
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method__unlock" class="method item protected">
    <h3 class="name"><code>_unlock</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>guid</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>mode</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>resourceName</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>timer</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag protected">protected</span>
    

    

    
        <span class="flag static">static</span>
    

    

    <div class="meta">
        
            
                
                <p>Defined in
            
        
        <a href="../files&#x2F;js_mutex.js.html#l327"><code>js&#x2F;mutex.js:327</code></a></p>

        

        
    </div>

    <div class="description">
        <p>Unlocks a currently held lock on a resource and processes the next
lock in queue as needed.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">guid</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>The lock's internal id.  If this is not the id
of a lock currently held on this resource, this method will do
nothing.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">mode</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>Either 'exclusive' or 'shared'.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">resourceName</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>The name of the locked resource.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">timer</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                    

                    

                    <div class="param-description">
                        <p>Optional.  The lock's timout timer to cancel.</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_exclusive" class="method item">
    <h3 class="name"><code>exclusive</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>resourceName</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callbackFunction</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>timeout</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    
        <span class="flag static">static</span>
    

    

    <div class="meta">
        
            
                
                <p>Defined in
            
        
        <a href="../files&#x2F;js_mutex.js.html#l121"><code>js&#x2F;mutex.js:121</code></a></p>

        

        
    </div>

    <div class="description">
        <p>Obtains an exclusive lock on a resource.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">resourceName</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>The name of the resource to lock.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callbackFunction</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>The function that gets called when
the lock is obtained.  It is guaranteed not to be called
synchronously.  It is guaranteed not to be called more than once.  It
is not guaranteed to ever be called.  The callback function is passed
one argument, the unlock function which must be called to release the
lock.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">timeout</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>Optional.  The Approximate time in
milliseconds to wait after the callback function has been called.
Once the timeout has expired, if the callback function hasn't yet
called the unlock function, the lock will be automatically released.
This does not halt, stop, or prevent anything that the callback
function might still be doing asynchronously; it just releases the
lock.  Using timeout is one way to reduce the possibility of
deadlocks, but it comes with the risk of allowing concurrent access
to the resource.</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    cancelObject An object with a cancel method.  When
the cancel method is called, if the callback function hasn't yet
called the unlock function, the lock will be automatically released.
This does not halt, stop, or prevent anything that the callback
function might still be doing asynchronously; it just releases the
lock.  Using the cancel method is one way to reduce the possibiliy of
deadlocks, but it comes with the risk of allowing concurrent access
to the resource.  The cancelObject also has a mode property.
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_exclusive" class="method item">
    <h3 class="name"><code>exclusive</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>resourceName</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callbackFunction</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>timeout</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
        </span>
    

    

    

    

    
        <span class="flag static">static</span>
    

    

    <div class="meta">
        
            
                
                <p>Defined in
            
        
        <a href="../files&#x2F;js_mutex.js.html#l153"><code>js&#x2F;mutex.js:153</code></a></p>

        

        
    </div>

    <div class="description">
        <p>Obtains an shared lock on a resource.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">resourceName</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>The name of the resource to lock.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callbackFunction</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                    

                    

                    <div class="param-description">
                        <p>The function that gets called when
the lock is obtained.  It is guaranteed not to be called
synchronously.  It is guaranteed not to be called more than once.  It
is not guaranteed to ever be called.  The callback function is passed
one argument, the unlock function which must be called to release the
lock.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">timeout</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                    

                    

                    <div class="param-description">
                        <p>Optional.  The Approximate time in
milliseconds to wait after the callback function has been called.
Once the timeout has expired, if the callback function hasn't yet
called the unlock function, the lock will be automatically released.
This does not halt, stop, or prevent anything that the callback
function might still be doing asynchronously; it just releases the
lock.  Using timeout is one way to reduce the possibility of
deadlocks, but it comes with the risk of allowing concurrent access
to the resource.</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>:
                    
                    cancelObject An object with a cancel method.  When
the cancel method is called, if the callback function hasn't yet
called the unlock function, the lock will be automatically released.
This does not halt, stop, or prevent anything that the callback
function might still be doing asynchronously; it just releases the
lock.  Using the cancel method is one way to reduce the possibiliy of
deadlocks, but it comes with the risk of allowing concurrent access
to the resource.  The cancelObject also has a mode property.
                
            </div>
        </div>
    

    
</div>

                
            </div>
        

        
            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

                
                    <div id="property__locks" class="property item protected">
    <h3 class="name"><code>_locks</code></h3>
    <span class="type">Unknown</span>

    

    
        <span class="flag protected">protected</span>
    

    

    
        <span class="flag static">static</span>
    

    <div class="meta">
        
            
                
                <p>Defined in
            
        
        <a href="../files&#x2F;js_mutex.js.html#l249"><code>js&#x2F;mutex.js:249</code></a></p>

        

        
    </div>

    <div class="description">
        <p>An object containing the state of currently held and queued locks.</p>
    </div>

    

    

    
</div>

                
            </div>
        

        

        
    </div>
</div>

                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<!--script src="..&#x2F;assets/js/tabs.js"></script-->
<script src="..&#x2F;assets/../api.js"></script>


<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
